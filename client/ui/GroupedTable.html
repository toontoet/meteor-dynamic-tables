<template name="GroupedTable">
  <style>
    .grouped-table-manage-controller {
      cursor: pointer;
      margin-right: 20px;
      vertical-align: middle;
      line-height: 20px;
    }
  </style>
  <div style="height: 40px;">
    <div class="pull-right">
      <span class="aspects grouped-table-manage-controller {{#if aspects}} active {{/if}}">
        <i class="fa fa-sort"></i> Sort
      </span>
      <span class="columns grouped-table-manage-controller">
        <i class="fa fa-eye-slash"></i> Hide/Show Columns
      </span>
      <span class="groups grouped-table-manage-controller {{#if aGroupChain}} active {{/if}}">
        <i class="fa fa-th-list"></i> Group
      </span>
    </div>
  </div>
  {{#if aGroupChain}}
    {{#if searching}}
      <input type="text" placeholder="Search..." class="dynamic-table-global-search" />
    {{/if}}
    {{> dynamicTableGroup
      forceRefresh=forceRefresh
      showPrefix=showPrefix
      noGroups=noGroups
      loading=loading
      expandAll=expandAll
      lazy=lazy
      customTableSpec=customTableSpec
      groupableFields=groupableFields
      advanced=advanced
      selector=selector
      tableId=tableId

      groupChain=aGroupChain
      aspects=aspects
      columns=columns
    }}
  {{else}}
    {{> CustomizableTable
      table
    }}
  {{/if}}
</template>
