<template name="dynamicTableGroup">
  <div class="dynamic-table-group">
    {{#each value in currentGroupValues}}
      {{#if shouldDisplaySection value (newSelector value selector)}}
        <div class="dynamic-table-panel">
          <div class="dynamic-table-header" data-index="{{@index}}">
            {{currentGroupLabel}}: {{value.label}} {{#if hasCount value}}({{count value (newSelector value selector)}}){{/if}}
          </div>
          <div class="dynamic-table-content">
            {{# if shouldDisplayTable @index}}
              {{#if lastLevel}}
                {{> CustomizableTable (table (newSelector value selector))}}
              {{else}}
                {{> dynamicTableGroup customTableSpec=customTableSpec groupChain=groupChain index=nextIndex selector=(newSelector value selector)}}
              {{/if}}
            {{/if}}
          </div>
        </div>
      {{/if}}
    {{/each}}
  </div>
</template>
