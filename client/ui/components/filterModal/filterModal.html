<template name="dynamicTableFilterModal">
  <div class="dynamic-table-filter">
    {{#if loading}}
      <div style="position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; background-color: #fff; opacity: 0.5;">

      </div>
    {{/if}}
    {{#if sort.enabled}}
      <section class="dynamic-table-filter-sort">
        <label>Sort</label>
        {{#if isNumeric}}
          <button class="btn btn-dynamic-table-sort {{#if sortDirection 1}}btn-dynamic-table-selected{{/if}}" data-direction="1">0-9</button>
          <button class="btn btn-dynamic-table-sort {{#if sortDirection -1}}btn-dynamic-table-selected{{/if}}" data-direction="-1">9-0</button>
        {{else}}
          {{#if isString}}
            <button class="btn btn-dynamic-table-sort {{#if sortDirection 1}}btn-dynamic-table-selected{{/if}}" data-direction="1">A-Z</button>
            <button class="btn btn-dynamic-table-sort {{#if sortDirection -1}}btn-dynamic-table-selected{{/if}}" data-direction="-1">Z-A</button>
          {{/if}}
        {{/if}}
      </section>
    {{/if}}
    {{#if filter.enabled}}
      {{#if filter.operator.enabled}}
        <section class="dynamic-table-filter-operator">
          <label>Display</label>
          {{#if isNumeric}}
          {{else}}
            <label><input type="radio" class="input-dynamic-table-operator" name="dynamic-table-operator" value="$in" {{checkedIfWithValue}} /> With Value</label>
            <label><input type="radio" class="input-dynamic-table-operator" name="dynamic-table-operator" value="$nin" {{checkedIfWithoutValue}} /> Without Value</label>
          {{/if}}
        </section>
      {{/if}}
      {{#if filter.operator.enabled}}
        {{#if hasOptions}}
          {{#if isArrayField}}
            <button class="btn btn-dynamic-table-operator {{#if isAny}}btn-dynamic-table-selected{{/if}}" data-modifier="$any">Any</button>
            <button class="btn btn-dynamic-table-operator {{#if isAll}}btn-dynamic-table-selected{{/if}}" data-modifier="$all">All</button>
          {{/if}}
        {{/if}}
      {{/if}}
      {{#if filter.search.enabled}}
        <section class="dynamic-table-filter-search">
          <label>Filter</label>
          <input type="search" class="input-dynamic-table-search" placeholder="Search..." value="{{filter.search.value}}" />
        </section>
      {{/if}}
      {{#if hasSelectedOptions}}
        <section class="dynamic-table-filter-selected">
          <label>Selected</label>
          <div class="inner">
            {{#each option in selectedOptions}}
              <label><input class="input-dynamic-table-option-selected" type="checkbox" value="{{option.value}}" checked="checked" /> <span class="dynamic-table-option-value">{{option.label}}</span></label>
            {{/each}}
          </div>
        </section>
      {{/if}}
      {{#if hasOptions}}
        <section class="dynamic-table-filter-options">
          <label>Options{{#if searching}}...{{/if}}</label>
          <div class="inner">
            {{#each option in options}}
              <label><input class="input-dynamic-table-option" type="checkbox" value="{{option.value}}" {{checkedIfSelected option.value}} /> <span class="dynamic-table-option-value">{{option.label}}</span></label>
            {{/each}}
          </div>
        </section>
      {{/if}}
    {{/if}}
    {{#if hasFooter}}
      <div class="dynamic-table-filter-footer">
        {{#if field.optional}}
          <button class="btn btn-danger">Remove Field</button>
        {{/if}}
        {{#if filter.enabled}}
          <button class="btn btn-default btn-dynamic-table-clear">Clear Filter</button>
        {{/if}}
      </div>
    {{/if}}
  </div>
</template>
